<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prism UI CDN Test</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        padding: 2rem;
        background: #f5f5f5;
      }

      .container {
        max-width: 600px;
        margin: 0 auto;
      }

      h1 {
        margin-bottom: 2rem;
        color: #333;
      }

      /* Button Styles */
      [data-component="button"] {
        font-family: inherit;
        font-size: 1rem;
        padding: 0.75rem 1.5rem;
        border-radius: 0.5rem;
        border: none;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.2s;
      }

      [data-component="button"][data-variant="primary"] {
        background: #0066ff;
        color: white;
      }

      [data-component="button"][data-variant="primary"]:hover {
        background: #0052cc;
      }

      [data-component="button"][data-variant="outline"] {
        background: white;
        color: #0066ff;
        border: 2px solid #0066ff;
      }

      [data-component="button"][data-disabled="true"] {
        opacity: 0.5;
        cursor: not-allowed;
      }

      /* Card Styles */
      [data-component="card"] {
        background: white;
        border-radius: 0.75rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        margin-bottom: 1.5rem;
      }

      [data-component="card"][data-variant="elevated"] {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      [data-component="card"] [data-part="header"] {
        padding: 1.5rem;
        border-bottom: 1px solid #e5e5e5;
      }

      [data-component="card"] [data-part="body"] {
        padding: 1.5rem;
      }

      [data-component="card"] [data-part="footer"] {
        padding: 1rem 1.5rem;
        border-top: 1px solid #e5e5e5;
        display: flex;
        gap: 0.75rem;
        justify-content: flex-end;
      }

      /* Input Styles */
      [data-component="input"] {
        margin-bottom: 1.5rem;
      }

      [data-component="input"] [data-part="label"] {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 500;
        color: #333;
      }

      [data-component="input"] [data-part="control"] {
        width: 100%;
        padding: 0.75rem;
        border: 2px solid #ddd;
        border-radius: 0.5rem;
        font-family: inherit;
        font-size: 1rem;
      }

      [data-component="input"] [data-part="control"]:focus {
        outline: none;
        border-color: #0066ff;
      }

      [data-component="input"][data-invalid="true"] [data-part="control"] {
        border-color: #dc2626;
      }

      [data-component="input"] [data-part="helper"] {
        margin-top: 0.5rem;
        font-size: 0.875rem;
        color: #666;
      }

      [data-component="input"] [data-part="error"] {
        margin-top: 0.5rem;
        font-size: 0.875rem;
        color: #dc2626;
      }

      .success-message {
        margin-top: 1rem;
        padding: 1rem;
        background: #d4edda;
        color: #155724;
        border-radius: 0.5rem;
        border: 1px solid #c3e6cb;
        display: none;
      }

      .success-message.show {
        display: block;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ðŸŽ¨ Prism UI CDN Test</h1>
      <div id="root"></div>
      <div id="success-message" class="success-message"></div>
    </div>

    <!-- React 19 (peer dependency) -->
    <script
      crossorigin
      src="https://unpkg.com/react@19/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@19/umd/react-dom.production.min.js"
    ></script>

    <!-- Prism UI from local dist (for testing before npm publish) -->
    <script src="./dist/index.global.js"></script>

    <script>
      const { Button, Card, CardHeader, CardBody, CardFooter, Input } =
        window.PrismUI;
      const { createElement: h, useState } = React;
      const root = ReactDOM.createRoot(document.getElementById("root"));

      function App() {
        const [email, setEmail] = useState("");
        const [name, setName] = useState("");
        const [emailError, setEmailError] = useState("");

        const handleSubmit = () => {
          if (!email || !email.includes("@")) {
            setEmailError("Please enter a valid email");
            return;
          }
          setEmailError("");

          const successMsg = document.getElementById("success-message");
          successMsg.textContent = `âœ… Success! Submitted: ${name || "Anonymous"} (${email})`;
          successMsg.classList.add("show");

          setTimeout(() => {
            successMsg.classList.remove("show");
            setEmail("");
            setName("");
          }, 3000);
        };

        return h(
          Card,
          { "data-variant": "elevated" },
          h(
            CardHeader,
            null,
            h("h2", { style: { margin: 0 } }, "Sign Up Form"),
          ),
          h(
            CardBody,
            null,
            h(Input, {
              label: "Name",
              placeholder: "Your name",
              value: name,
              onChange: (e) => setName(e.target.value),
              helperText: "Optional",
            }),
            h(Input, {
              label: "Email",
              type: "email",
              placeholder: "you@example.com",
              value: email,
              onChange: (e) => {
                setEmail(e.target.value);
                setEmailError("");
              },
              required: true,
              error: emailError,
              helperText: emailError ? "" : "We'll never share your email",
            }),
          ),
          h(
            CardFooter,
            null,
            h(
              Button,
              {
                "data-variant": "outline",
                onClick: () => {
                  setEmail("");
                  setName("");
                  setEmailError("");
                },
              },
              "Clear",
            ),
            h(
              Button,
              {
                "data-variant": "primary",
                onClick: handleSubmit,
              },
              "Submit",
            ),
          ),
        );
      }

      root.render(h(App));

      console.log("âœ… Prism UI loaded successfully!");
      console.log("Available components:", Object.keys(window.PrismUI));
    </script>
  </body>
</html>
